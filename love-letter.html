<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>This page took way too damn long</title>
<style>
body {
  background-color: #fff5e6;
  font-family: 'Segoe UI', sans-serif;
  overflow-x: hidden;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Envelope container */
#envelope-container {
  position: relative;
  width: 300px;
  margin-top: 100px;
  cursor: pointer;
}

/* Envelope body */
#envelope {
  width: 100%;
  height: 180px;
  background-color: #f9c5c8;
  border-radius: 0 0 12px 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.2rem;
  text-align: center;
}

/* Flap - inverted */
#flap {
  width: 0;
  height: 0;
  border-left: 150px solid transparent;
  border-right: 150px solid transparent;
  border-top: 80px solid #f594a2;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 2;
  transition: transform 0.5s;
  transform-origin: top center;
}

/* Letter inside */
#letter {
  display: none;
  width: 90%;
  max-width: 450px;
  max-height: 80vh;
  background: #fff0f5;
  border: 3px dashed #f9c5c8;
  border-radius: 16px;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 25px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.4);
  position: relative;
  word-wrap: break-word;
}

/* Close button */
#closeLetter {
  position: sticky;
  top: 0;
  background: #f9c5c8;
  border: none;
  border-radius: 6px;
  padding: 5px 10px;
  cursor: pointer;
  margin-bottom: 10px;
}

/* Flowers */
.flower {
  width: 50px;
  height: 50px;
  position: absolute;
  cursor: grab;
  z-index: 1000;
  transition: transform 0.2s ease, opacity 0.5s, filter 0.5s;
}
.flower:active {
  transform: scale(1.2);
}
.flower.watered {
  filter: brightness(1.6) drop-shadow(0 0 20px hotpink);
  opacity: 1;
}

/* Warning + Pot */
#warning {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: pink;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  display: none;
  z-index: 2000;
  font-size: 18px;
  font-weight: bold;
}

#watering-pot {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 80px;
  height: 80px;
  cursor: grab;
  display: none;
  z-index: 2000;
}

/* Success message */
#success-message {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background: lightgreen;
  padding: 15px 25px;
  border-radius: 10px;
  font-size: 18px;
  font-weight: bold;
  display: none;
  z-index: 3000;
  opacity: 1;
  transition: opacity 1s ease;
}

/* Punishment */
#punishment {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  color: red;
  font-size: 30px;
  font-weight: bold;
  display: none;
  z-index: 5000;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  animation: fadeIn 1s ease forwards;
}
#punishment img {
  max-width: 70%;
  margin-top: 20px;
}
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
#red-flash {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: red;
  opacity: 0;
  pointer-events: none;
  z-index: 4000; /* above flowers, below punishment */
  transition: opacity 0.3s ease;
}
</style>
</head>
<body>

<div id="envelope-container">
  <div id="flap"></div>
  <div id="envelope">Click to Open ðŸ’Œ</div>
</div>

<div id="letter">
  <button id="closeLetter">Close âœ–</button>
  <div class="letter-content">
    <p>My beautiful girl,</p>
    <p>Happy 6 months to us. I still canâ€™t believe weâ€™ve made it here, and yet, it feels like Iâ€™ve known you forever. Thinking back to when we were just friends, talking and joking, sharing little bits of our lives without ever realizing how much weâ€™d come to mean to each other, itâ€™s crazy to see how far weâ€™ve come. And nowâ€¦ now youâ€™re so much more.
      
I love remembering how we slowly got closer over time. How conversations that started as casual chats turned into late night talks that lasted for hours, how small moments became inside jokes only we understand, how every glance and every smile started to carry weight and warmth that I couldnâ€™t ignore. I remember thinking how funny and smart and talented you are, how kind and caring, how ridiculously beautiful you are, and how every little thing you do makes me feel this mix of happiness and calm Iâ€™ve never felt before. You tease me, you make me laugh until my stomach hurts, and even when you drive me a little crazy (in the best way), I canâ€™t help but love every second of it.

You make me feel safe. You make me feel understood. You make me feel seen, not just the parts of me I show to everyone else, but the parts that are messy, anxious, silly, or vulnerable. I know I can be anxious, awkward, or overthink things sometimes, but with you, it feels easier to just be myself. You listen, really listen, and care deeply about what Iâ€™m feeling. That is something Iâ€™ve never taken for granted, and I never will.

I love all the tiny details about you. Your smile, which lights up everything, even the dullest days. How your eyes shine when youâ€™re excited or happy, or even when youâ€™re just focused on something. How talented you are at drawing and painting, and how passionate you get about the things you love. How kind and thoughtful you are, not just with me, but with everyone around you. How you can be sarcastic and hilariously funny but also gentle and caring at the same time.

I love our moments together, both big and small. The times we hang out after school, the times you come over, the walks, the music we share, the jokes we laugh at that no one else would get. Even just sitting together in comfortable silence is enough, because being with you feels like being home. And I love the way we can be ourselves without filters or pretenses, the way our friendship became this incredible love that feels effortless, natural, and perfect.

These six months have been full of memories that Iâ€™ll never forget. From our little adventures to our quiet nights, from the laughs to the serious talks, from teasing each other to supporting one another, itâ€™s all been perfect because itâ€™s with you. I love thinking about the future with you, about all the memories weâ€™ve yet to make, all the songs weâ€™ll listen to together, all the late night talks and laughter filled days, all the quiet, comforting moments where nothing else matters except us.

Youâ€™ve changed my life in ways I didnâ€™t know were possible. Youâ€™ve taught me patience, care, and joy. Youâ€™ve shown me that love doesnâ€™t have to be complicated to be real, that someone can make your heart feel full just by being themselves. Youâ€™ve made me happier than I ever thought I could be. Youâ€™ve made every day brighter, every challenge easier, and every silly, fun moment unforgettable.

Thank you for being my best friend, my partner in crime, my safe place, my laughter, my love. Thank you for every smile, every hug, every silly joke, every kind word, every look that makes my heart skip a beat. Thank you for being you, the most amazing, beautiful, funny, caring, smart, talented, and incredible person Iâ€™ve ever known. I love you more than words can ever truly say, but Iâ€™ll spend my whole life trying to show you.

Hereâ€™s to us, my love. To everything weâ€™ve shared, to everything we still have ahead, to every laugh, every hug, every kiss, every moment in between. I love you so much, more than I ever thought I could love someone, and I canâ€™t wait to spend even more time with you.

Yours,
Fani</p>
  </div>
</div>

<!-- Warning + pot + success -->
<div id="warning">ðŸ’§ Water the flowers or else...</div>
<img id="watering-pot" src="https://static.vecteezy.com/system/resources/previews/011/887/663/original/hand-drawn-watering-pot-illustration-png.png" alt="Watering Pot">
<div id="success-message">Phew that was close, thank you ðŸŒ¸</div>

<!-- Punishment -->
<div id="punishment">
  <p>You shouldnâ€™t have done that...</p>
  <img src="papa.jpg" alt="Old Man" style="width:400px; height:auto;">
</div>
<div id="red-flash"></div>


<!-- ALL FLOWERS -->
<img class="flower draggable" src="https://static.vecteezy.com/system/resources/previews/029/285/704/original/pink-flower-pink-flower-pink-flower-clipart-pink-flower-with-transparent-background-ai-generative-free-png.png"  style="width:80px; height:80px;">
<img class="flower draggable" src="https://static.vecteezy.com/system/resources/previews/029/285/704/original/pink-flower-pink-flower-pink-flower-clipart-pink-flower-with-transparent-background-ai-generative-free-png.png" style="width:80px; height:80px;">
<img class="flower draggable" src="https://png.pngtree.com/png-clipart/20231109/original/pngtree-pink-flower-cute-png-image_13522448.png" style="width:60px; height:60px;">
<img class="flower draggable" src="https://png.pngtree.com/png-clipart/20231109/original/pngtree-pink-flower-cute-png-image_13522448.png" style="width:60px; height:60px;">
<img class="flower draggable" src="https://www.pngarts.com/files/3/Pink-Flowers-PNG-Image.png">
<img class="flower draggable" src="https://www.pngarts.com/files/3/Pink-Flowers-PNG-Image.png">
<img class="flower draggable" src="https://png.pngtree.com/png-clipart/20231002/original/pngtree-pink-flower-isolate-png-file-png-image_13064989.png">
<img class="flower draggable" src="https://png.pngtree.com/png-clipart/20231002/original/pngtree-pink-flower-isolate-png-file-png-image_13064989.png">
<img class="flower draggable" src="https://ecuadorflowersandmore.com/wp-content/uploads/2022/12/DSC00256-1366x1366.png" style="width:70px; height:70px;">
<img class="flower draggable" src="https://ecuadorflowersandmore.com/wp-content/uploads/2022/12/DSC00256-1366x1366.png" style="width:70px; height:70px;">
<img class="flower draggable" src="https://static.vecteezy.com/system/resources/previews/039/244/999/non_2x/blooming-single-pink-gerbera-daisy-flower-free-png.png">
<img class="flower draggable" src="https://static.vecteezy.com/system/resources/previews/039/244/999/non_2x/blooming-single-pink-gerbera-daisy-flower-free-png.png">
<img class="flower draggable" src="https://i.pinimg.com/originals/84/fb/6f/84fb6f065dd268ad8e398553d7a27810.png" style="width:200px; height:200px;">
<img class="flower draggable" src="https://www.pngarts.com/files/3/Pink-Flowers-PNG-Photo.png">
<img class="flower draggable" src="https://png.pngtree.com/png-clipart/20231020/original/pngtree-blooming-pink-hibiscus-flower-on-isolated-background-png-image_13384486.png" style="width:60px; height:60px;">

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script>
// Elements
const envelopeContainer = document.getElementById('envelope-container');
const envelope = document.getElementById('envelope');
const flap = document.getElementById('flap');
const letter = document.getElementById('letter');
const closeLetter = document.getElementById('closeLetter');
const warning = document.getElementById("warning");
const pot = document.getElementById("watering-pot");
const successMessage = document.getElementById("success-message");
const punishment = document.getElementById("punishment");
const flowers = document.querySelectorAll('.flower');

let wateredCount = 0;
let punished = false;

// Envelope open
envelopeContainer.addEventListener('click', () => {
  flap.style.transform = 'rotateX(180deg)';
  setTimeout(() => {
    envelope.style.display = 'none';
    letter.style.display = 'block';
    confetti({
      particleCount: 400,
      spread: 250,
      origin: { y: 0.6 },
      colors: ['#f9c5c8','#ffccd5','#fff4e6','#FF69B4','#FF1493']
    });
  }, 500);
});

// Close letter
closeLetter.addEventListener('click', () => {
  letter.style.display = 'none';
  envelope.style.display = 'flex';
  flap.style.transform = 'rotateX(0deg)';
});

// Show warning + pot after 2 min
// Flash function
function flashRed(times = 3, interval = 500) {
  let count = 0;
  const flash = setInterval(() => {
    document.getElementById('red-flash').style.opacity = '0.5';
    setTimeout(() => {
      document.getElementById('red-flash').style.opacity = '0';
    }, interval / 2);
    count++;
    if (count >= times) clearInterval(flash);
  }, interval);
}

// Show warning + flash
setTimeout(() => {
  if (!punished) {
    warning.style.display = "block";
    pot.style.display = "block";
    flashRed(40, 500); // flashes 6 times, every 400ms

    // Give them 30s to water
    setTimeout(() => {
      if (wateredCount < flowers.length && !punished) {
        punishment.style.display = "flex";
        punished = true;
      }
    }, 20000);
  }
}, 60000);


// Drag pot to water flowers (mouse + touch)
function startDrag(pageX, pageY) {
  const shiftX = pageX - pot.getBoundingClientRect().left;
  const shiftY = pageY - pot.getBoundingClientRect().top;

  function moveAt(x, y) {
    pot.style.left = x - shiftX + "px";
    pot.style.top = y - shiftY + "px";

    // Watering logic
    flowers.forEach(flower => {
      const flowerRect = flower.getBoundingClientRect();
      const potRect = pot.getBoundingClientRect();

      if (!(potRect.right < flowerRect.left ||
            potRect.left > flowerRect.right ||
            potRect.bottom < flowerRect.top ||
            potRect.top > flowerRect.bottom)) {
        if (!flower.classList.contains("watered")) {
          flower.classList.add("watered");
          wateredCount++;

          // Glow effect
          flower.style.filter = "brightness(1.6) drop-shadow(0 0 20px hotpink)";
          flower.style.transition = "transform 0.5s ease, filter 0.5s ease";
          flower.style.transform += " scale(1.3)";
          setTimeout(() => {
            flower.style.transform = flower.style.transform.replace(" scale(1.3)", "");
          }, 600);

          // Remove glow after 5 seconds
          setTimeout(() => {
            flower.style.filter = "";
            flower.classList.remove("watered");
          }, 5000);

          if (wateredCount === flowers.length) {
            successMessage.style.display = "block";
            setTimeout(() => { successMessage.style.opacity = 0; }, 20000);
            setTimeout(() => { successMessage.style.display = "none"; }, 30000);
            warning.style.display = "none";
            pot.style.display = "none";
          }
        }
      }
    });
  }

  function onMouseMove(e) {
    moveAt(e.pageX, e.pageY);
  }
  function onTouchMove(e) {
    moveAt(e.touches[0].clientX, e.touches[0].clientY);
  }

  document.addEventListener("mousemove", onMouseMove);
  document.addEventListener("touchmove", onTouchMove);

  function stopDrag() {
    document.removeEventListener("mousemove", onMouseMove);
    document.removeEventListener("mouseup", stopDrag);
    document.removeEventListener("touchmove", onTouchMove);
    document.removeEventListener("touchend", stopDrag);
  }

  document.addEventListener("mouseup", stopDrag);
  document.addEventListener("touchend", stopDrag);
}

pot.onmousedown = (e) => startDrag(e.pageX, e.pageY);
pot.ontouchstart = (e) => {
  e.preventDefault();
  startDrag(e.touches[0].clientX, e.touches[0].clientY);
};
pot.ondragstart = () => false;


// Draggable + floating flowers
// Draggable + floating flowers
flowers.forEach(flower => {
  // Random starting position
  flower.style.top = Math.random() * (window.innerHeight - 50) + 'px';
  flower.style.left = Math.random() * (window.innerWidth - 50) + 'px';

  function startFlowerDrag(pageX, pageY) {
    let shiftX = pageX - flower.getBoundingClientRect().left;
    let shiftY = pageY - flower.getBoundingClientRect().top;

    function moveAt(x, y) {
      flower.style.left = x - shiftX + 'px';
      flower.style.top = y - shiftY + 'px';
    }

    function onMouseMove(e) {
      moveAt(e.pageX, e.pageY);
    }
    function onTouchMove(e) {
      moveAt(e.touches[0].clientX, e.touches[0].clientY);
    }

    document.addEventListener('mousemove', onMouseMove);
    document.addEventListener('touchmove', onTouchMove);

    function stopDrag() {
      document.removeEventListener('mousemove', onMouseMove);
      document.removeEventListener('mouseup', stopDrag);
      document.removeEventListener('touchmove', onTouchMove);
      document.removeEventListener('touchend', stopDrag);
    }

    document.addEventListener('mouseup', stopDrag);
    document.addEventListener('touchend', stopDrag);
  }

  flower.addEventListener('mousedown', (e) => startFlowerDrag(e.pageX, e.pageY));
  flower.addEventListener('touchstart', (e) => {
    e.preventDefault();
    startFlowerDrag(e.touches[0].clientX, e.touches[0].clientY);
  });

  flower.ondragstart = () => false;

  // Floating effect (keep as is)
  let dx = (Math.random() - 0.5) * 0.5;
  let dy = (Math.random() - 0.5) * 0.5;
  let rotation = Math.random() * 360;
  let rotationSpeed = (Math.random() - 0.5) * 0.5;

  setInterval(() => {
    if (!flower.matches(':active')) {
      let top = parseFloat(flower.style.top);
      let left = parseFloat(flower.style.left);

      if (top + dy < 0 || top + dy > window.innerHeight - 50) dy = -dy;
      if (left + dx < 0 || left + dx > window.innerWidth - 50) dx = -dx;

      flower.style.top = top + dy + 'px';
      flower.style.left = left + dx + 'px';

      rotation += rotationSpeed;
      flower.style.transform = `rotate(${rotation}deg)`;
    }
  }, 20);
});
</script>
</body>
</html
